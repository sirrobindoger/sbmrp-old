local SciencePhrases = {}
SciencePhrases["Hello"] = "/scientist/hello.wav"
SciencePhrases["Simulation"] = "/scientist/simulation.wav"
SciencePhrases["Grant Money"] = "/scientist/nogrant.wav"
SciencePhrases["Clear Throat"] = "/scientist/c1a0_sci_stall.wav" -- new
SciencePhrases["Sneeze"] = "/scientist/sneeze.wav" -- new
SciencePhrases["Stop!"] = "/scientist/sci_pain9.wav" -- new
SciencePhrases["I\'ll stay here"] = "/scientist/istay.wav" -- new
SciencePhrases["Cough"] = "/scientist/cough.wav"
SciencePhrases["Coffee Cup"] = "/scientist/seencup.wav"
SciencePhrases["Lambda Lab"] = "/scientist/lambdalab.wav"
SciencePhrases["Glasses"] = "/scientist/hideglasses.wav"
SciencePhrases["Beverage Machine"] = "/scientist/beverage.wav"
SciencePhrases["Are you thinking?"] = "/scientist/areyouthink.wav"
SciencePhrases["Ties"] = "/scientist/weartie.wav"
SciencePhrases["What you doing?"] = "/scientist/whatyoudoing.wav"
SciencePhrases["Yes"] = "/scientist/yes3.wav"
SciencePhrases["Yeees"] = "/scientist/yees.wav"
SciencePhrases["Theoretical Limits"] = "/scientist/limitsok.wav"
SciencePhrases["Greetings"] = "/scientist/greetings.wav"
SciencePhrases["Let\'s Go"] = "/scientist/letsgo.wav"
SciencePhrases["Thats odd"] = "/scientist/thatsodd.wav"
SciencePhrases["Shutdown Chart"] = "/scientist/shutdownchart.wav"
SciencePhrases["Run test again"] = "/scientist/runtest.wav"
SciencePhrases["Test Chamber 30"] = "/scientist/sci_somewhere.wav"
SciencePhrases["Noo"] = "/scientist/noo.wav"
SciencePhrases["Noo - Scared"] = "/scientist/nooo.wav"
SciencePhrases["Report Fluxuation"] = "/scientist/reportflux.wav"
SciencePhrases["Perhaps"] = "/scientist/perhaps.wav"
SciencePhrases["New HEV Suit"] = "/scientist/newhevsuit.wav"
SciencePhrases["Fascinating"] = "/scientist/neverseen.wav"
SciencePhrases["Blood Sample"] = "/scientist/bloodsample.wav"
SciencePhrases["Shutup"] = "scientist/shutup2.wav"
SciencePhrases["Don't want to die"] = "scientist/dontwantdie.wav"
SciencePhrases["Cascade Scenario"] = "scientist/cascade.wav"

local SecurityPhrases = {}
SecurityPhrases["Hello sir"] = "/barney/howyoudoing.wav"
SecurityPhrases["Guarding"] = "/barney/standguard.wav"
SecurityPhrases["Bad feeling"] = "/barney/badfeeling.wav"
SecurityPhrases["Go on through"] = "/barney/c1a0_ba_hevyes.wav"
SecurityPhrases["Dont ask me"] = "/barney/dontaskme.wav"
SecurityPhrases["No sir"] = "/barney/nosir.wav"
SecurityPhrases["Target practice"] = "/barney/targetpractice.wav"
SecurityPhrases["Yes sir"] = "/barney/yessir.wav"
SecurityPhrases["Big mess"] = "/barney/bigmess.wav"
SecurityPhrases["Yup"] = "/barney/yup.wav"
SecurityPhrases["You hear that"] = "/barney/youhearthat.wav"
SecurityPhrases["You got it"] = "/barney/yougotit.wav"
SecurityPhrases["You ever seen"] = "/barney/youeverseen.wav"
SecurityPhrases["You bet"] = "/barney/youbet.wav"
SecurityPhrases["Working on stuff"] = "/barney/workingonstuff.wav"
SecurityPhrases["Whats going on?"] = "/barney/whatsgoingon.wav"
SecurityPhrases["What is that?"] = "/barney/whatisthat.wav"
SecurityPhrases["Not waiting around"] = "/barney/c1a2_ba_top.wav" -- new
SecurityPhrases["Talk too much"] = "/barney/youtalkmuch.wav" -- new
SecurityPhrases["Can\'t take much more"] = "/barney/imdead.wav" -- new
SecurityPhrases["Not scared are ya?"] = "/barney/aintscared.wav" -- new
SecurityPhrases["What good"] = "/barney/whatgood.wav"
SecurityPhrases["Way out"] = "/barney/wayout.wav"
SecurityPhrases["I\'m waiting"] = "/barney/waitin.wav"
SecurityPhrases["Thinking"] = "/barney/thinking.wav"
SecurityPhrases["I\'ll cover you"] = "/barney/teamup2.wav"
SecurityPhrases["Survive this"] = "/barney/survive.wav"
SecurityPhrases["Not go further"] = "/barney/stophere.wav"

local cPhrases = {}
cPhrases["Fuck it"] = "cphrases/mnt01_alright.mp3"
cPhrases["Doing my best"] = "cphrases/mnt01_bestican.mp3"
cPhrases["Beverage machine"] = "cphrases/mnt01_beveragemachine.mp3"
cPhrases["Break it again"] = "cphrases/mnt01_breakagain.mp3"
cPhrases["CDC nightmare"] = "cphrases/mnt01_cdcnightmare.mp3"
cPhrases["Coffee cup"] = "cphrases/mnt01_coffeecup.mp3"
cPhrases["Communism"] = "cphrases/mnt01_communism.mp3"
cPhrases["Don't pay me enough"] = "cphrases/mnt01_dontpayenough.mp3"
cPhrases["Don't touch that"] = "cphrases/mnt01_donttouchthat.mp3"
cPhrases["Eighty percent"] = "cphrases/mnt01_eightypercent.mp3"
cPhrases["Fat guy"] = "cphrases/mnt01_fatguy.mp3"
cPhrases["Fine now"] = "cphrases/mnt01_finenow.mp3"
cPhrases["Fuck everything"] = "cphrases/mnt01_fuckeverything.mp3"
cPhrases["Barely working"] = "cphrases/mnt01_generatorbarelyworking.mp3"
cPhrases["Generator fixing"] = "cphrases/mnt01_generatorsfixing01.mp3"
cPhrases["Gotcha faggot"] = "cphrases/mnt01_gotchafaggot01.mp3"
cPhrases["I'm an engineer"] = "cphrases/mnt01_heylookbuddy.mp3"
cPhrases["Hope you die"] = "cphrases/mnt01_hopeyoudie.mp3"
cPhrases["Maybe"] = "cphrases/mnt01_maybe.mp3"
cPhrases["Blood stain"] = "cphrases/mnt01_nextbloodstain.mp3"
cPhrases["Christ not again"] = "cphrases/mnt01_notagain.mp3"
cPhrases["Not fixing that"] = "cphrases/mnt01_notfixingthat.mp3"
cPhrases["Not paid enough"] = "cphrases/mnt01_notpaidenough.mp3"
cPhrases["Hit things"] = "cphrases/mnt01_paidtohit.mp3"
cPhrases["Pizza day"] = "cphrases/mnt01_pizzaday.mp3"
cPhrases["*Polish noises*"] = "cphrases/mnt01_pl_generatorshit.mp3"
cPhrases["Shits broken"] = "cphrases/mnt01_shitsbroken.mp3"
cPhrases["Shit list"] = "cphrases/mnt01_shitlist.mp3"
cPhrases["Pumps dead"] = "cphrases/mnt01_pumpsdead.mp3"
cPhrases["Trained for this"] = "cphrases/mnt01_trainedforthis.mp3"
cPhrases["Ridiculous vests"] = "cphrases/mnt01_vests.mp3"
cPhrases["That smell"] = "cphrases/mnt01_whatsthatsmell.mp3"
cPhrases["What the hell"] = "cphrases/mnt01_whatthehell.mp3"
cPhrases["Where's the fire"] = "cphrases/mnt01_wheresfire01.mp3"
cPhrases["Yeah, I guess"] = "cphrases/mnt01_yes01.mp3"
cPhrases["Yup"] = "cphrases/mnt01_yes02.mp3"
cPhrases["Stop crying"] = "cphrases/mnt01_stopcrying.mp3"


local VortPhrases = {}
VortPhrases["Accept a charge"] = "vo/npc/vortigaunt/acceptcharge.wav"
VortPhrases["Affirmed"] = "vo/npc/vortigaunt/affirmed.wav"
VortPhrases["We have lost"] = "vo/npc/vortigaunt/alldear.wav"
VortPhrases["That is all"] = "vo/npc/vortigaunt/allfornow.wav"
VortPhrases["All in one"] = "vo/npc/vortigaunt/allinoneinall.wav"
VortPhrases["Allow me"] = "vo/npc/vortigaunt/allowme.wav"
VortPhrases["All we can spare"] = "vo/npc/vortigaunt/allwecanspare.wav"
VortPhrases["As you wish"] = "vo/npc/vortigaunt/asyouwish.wav"
VortPhrases["Be of service"] = "vo/npc/vortigaunt/beofservice.wav"
VortPhrases["Yours to command"] = "vo/npc/vortigaunt/bodyyours.wav"
VortPhrases["Calm yourself"] = "vo/npc/vortigaunt/calm.wav"
VortPhrases["Can convince"] = "vo/npc/vortigaunt/canconvince.wav"
VortPhrases["Caution"] = "vo/npc/vortigaunt/caution.wav"
VortPhrases["Certainly"] = "vo/npc/vortigaunt/certainly.wav"
VortPhrases["Chant"] = "npc/vort/vort_pain3.wav"
VortPhrases["Done"] = "vo/npc/vortigaunt/done.wav"
VortPhrases["For freedom"] = "vo/npc/vortigaunt/forfreedom.wav"
VortPhrases["Foward"] = "vo/npc/vortigaunt/forward.wav"
VortPhrases["Gladly"] = "vo/npc/vortigaunt/gladly.wav"
VortPhrases["Halt"] = "vo/npc/vortigaunt/halt.wav"
VortPhrases["Hold still"] = "vo/npc/vortigaunt/holdstill.wav"
VortPhrases["Leadon"] = "vo/npc/vortigaunt/leadon.wav"
VortPhrases["Is an honor"] = "vo/npc/vortigaunt/itishonor.wav"
VortPhrases["Onward"] = "vo/npc/vortigaunt/onward.wav"
VortPhrases["Our place"] = "vo/npc/vortigaunt/ourplacehere.wav"
VortPhrases["With pleasure"] = "vo/npc/vortigaunt/pleasure.wav"
VortPhrases["We prevail"] = "vo/npc/vortigaunt/prevail.wav"
VortPhrases["Why delay"] = "vo/npc/vortigaunt/reasondelay.wav"
VortPhrases["Galalung"] = "vo/npc/vortigaunt/vortigese09.wav"
VortPhrases["We have lost all dear"] = "vo/npc/vortigaunt/vques01.wav"
VortPhrases["To the void"] = "vo/npc/vortigaunt/tothevoid.wav"
VortPhrases["The freeman"] = "vo/npc/vortigaunt/thefreeman.wav"
VortPhrases["Stand clear"] = "vo/npc/vortigaunt/standclear.wav"


 local HECUPhrases = {}
HECUPhrases["Hello sir"] = "/opforce_grunt/hello_sir.wav"
HECUPhrases["Yes sir"] = "/opforce_grunt/yes_sir.wav"
HECUPhrases["Grenade!"] = "/opforce_grunt/grenade.wav"
HECUPhrases["Let\'s Go"] = "/opforce_grunt/lets_go.wav"
HECUPhrases["Negative Sir"] = "/opforce_grunt/negative_sir.wav"
HECUPhrases["Was told to guard"] = "/opforce_grunt/to_guard.wav"
HECUPhrases["At your command"] = "/opforce_grunt/your_command.wav"
HECUPhrases["Take cover!"] = "/opforce_grunt/take_cover.wav"
HECUPhrases["Medic!"] = "/opforce_grunt/medic.wav"
HECUPhrases["Get down!"] = "/opforce_grunt/get_down.wav"
HECUPhrases["Need backup!"] = "/opforce_grunt/need_backup.wav"
HECUPhrases["Okay, check in"] = "/opforce_grunt/check_in.wav"
HECUPhrases["Clear Area"] = "/opforce_grunt/clear_area.wav"
HECUPhrases["Got Hostiles"] = "/opforce_grunt/got_hostiles.wav"
HECUPhrases["Fire in the hole!"] = "/opforce_grunt/fire_inhole.wav"
HECUPhrases["Gov cover ups"] = "/opforce_grunt/cover_ups.wav"
HECUPhrases["Kick Ass!"] = "/opforce_grunt/kick_ass.wav"
HECUPhrases["Friendly Fire!"] = "/opforce_grunt/friendly_fire.wav"
HECUPhrases["Disney Land"] = "/opforce_grunt/disney_land.wav"
HECUPhrases["Current situation"] = "/opforce_grunt/current.wav"
HECUPhrases["Covering Fire!"] = "/opforce_grunt/covering.wav"
HECUPhrases["Bad Feeling"] = "/opforce_grunt/bad_feeling.wav"
HECUPhrases["More Damage"] = "/opforce_grunt/more_damage.wav"
HECUPhrases["Move in!"] = "/opforce_grunt/move_in.wav"
HECUPhrases["Baby sitting"] = "/opforce_grunt/baby_sitting.wav"
HECUPhrases["Area Secure"] = "/opforce_grunt/area_secure.wav"
HECUPhrases["Flash Wound"] = "/opforce_grunt/flash_wound.wav"

if SERVER then
	local function DoSciencePhrase(ply, cmd, args)
 
		local SciencePhrase = (args[1] or 0)
		--if not SciencePhrases[SciencePhrase] then return end
		local RP = RecipientFilter()
		RP:AddAllPlayers()
		
		if not table.HasValue(SciencePhrases, SciencePhrase) then 
			return
		end
		
		if ply:IsScience() or ply:IsSurvey() then
			ply:EmitSound(Sound(SciencePhrase),80, 100)
		end	
	end
	concommand.Add("BMRP_DoSciencePhrase", DoSciencePhrase)
	
	local function DoSecurityPhrase(ply, cmd, args)
 
		local SecurityPhrase = (args[1] or 0)
		--if not SciencePhrases[SciencePhrase] then return end
		local RP = RecipientFilter()
		RP:AddAllPlayers()
		
		if not table.HasValue(SecurityPhrases, SecurityPhrase) then 
			return
		end
		
		if ply:IsSecurity() then
			ply:EmitSound(Sound(SecurityPhrase),80, 100)
		end	
	end
	concommand.Add("BMRP_DoSecurityPhrase", DoSecurityPhrase)

	local function DoXenianPhrase(ply, cmd, args)
 
		local XenianPhrase = (args[1] or 0)
		--if not SciencePhrases[SciencePhrase] then return end
		local RP = RecipientFilter()
		RP:AddAllPlayers()
		
		if not table.HasValue(VortPhrases, XenianPhrase) then 
			return
		end
		
		if ply:IsAlien() then
			ply:EmitSound(Sound(XenianPhrase),80, 100)
		end	
	end
	concommand.Add("BMRP_DoXenianPhrase", DoXenianPhrase)
	
	local function DoHECUPhrase(ply, cmd, args)
 
		local HECUPhrase = (args[1] or 0)

		local RP = RecipientFilter()
		RP:AddAllPlayers()
		
		if not table.HasValue(HECUPhrases, HECUPhrase) then 
			return
		end
		
		if ply:IsHECU() then
			ply:EmitSound(Sound(HECUPhrase),80, 100)
		end	
	end
	concommand.Add("BMRP_DoHECUPhrase", DoHECUPhrase)
	
	
	local function DoCPhrase(ply, cmd, args)
 
		local cPhrase = (args[1] or 0)

		local RP = RecipientFilter()
		RP:AddAllPlayers()
		
		if not table.HasValue(cPhrases, cPhrase) then 
			return
		end
		
		if ply:Team() == TEAM_SERVICE or ply:Team() == TEAM_CITYWORKER then
			ply:EmitSound(Sound(cPhrase),80, 100)
		end	
	end
	concommand.Add("BMRP_DoCPhrase", DoCPhrase)
	return
end


hook.Add("KeyPress", "bmrp_chatphrases", function(ply, key)
	if not IsValid(ply:GetActiveWeapon()) or IsFirstTimePredicted() then return end
	if IsValid(ply:GetEyeTrace().Entity) then
		if ply:GetEyeTrace().Entity:GetClass() == "func_door" and ply:GetEyeTrace().Entity:GetPos():Distance(ply:GetPos()) > 100 then return end
	end
		
    if (key == 2048) and (ply:GetActiveWeapon():GetClass() == "keys") then
        if (ply:IsScience() or ply:IsSurvey() or ply:IsBio()) then
            ply:ConCommand("SciencePhrases")
        elseif ply:IsSecurity() then
            ply:ConCommand("SecurityPhrases")
        elseif ply:IsHECU() then
            ply:ConCommand("HECUPhrases")
        elseif ply:Team() == TEAM_VORT then
        	ply:ConCommand("VortPhrases")
        elseif ply:Team() == TEAM_SERVICE or ply:Team() == TEAM_CITYWORKER then
        	ply:ConCommand("cPhrases")

        end
    end
end)
    

/*
===============
Science Phrases
===============
*/

local ScienceFrame
local function ScienceMenu()
	StopSpam = 0
	if ScienceFrame then return end

	local SciencePanel = vgui.Create("Panel")
	SciencePanel:SetPos(0,0)
	SciencePanel:SetSize(ScrW(), ScrH())
	function SciencePanel:OnMousePressed()
		ScienceFrame:Close()
	end

	ScienceFrame = ScienceFrame or vgui.Create("DFrame", SciencePanel)
	local Height = table.Count(SciencePhrases) * 21.5
	ScienceFrame:SetSize(150, Height)
	ScienceFrame:SetPos(ScrW()/2 + ScrW() * 0.1, ScrH()/2 - (Height/2))
	ScienceFrame:SetTitle("Voice")
	ScienceFrame:SetVisible(true)
	ScienceFrame:MakePopup()

	function ScienceFrame:Close()
		SciencePanel:Remove()
		ScienceFrame:Remove()
		ScienceFrame = nil
	end

	local Sciencei = 0
	local StopSpam = 0
	for k,v in SortedPairs(SciencePhrases) do
		Sciencei = Sciencei + 1
		local SciencePhraseButton = vgui.Create("DButton", ScienceFrame)
		SciencePhraseButton:SetPos(20, (Sciencei-1)*20 + 30)
		SciencePhraseButton:SetSize(110, 20)
		SciencePhraseButton:SetText(k)

		SciencePhraseButton.DoClick = function()
		if StopSpam == 0 then
		RunConsoleCommand("BMRP_DoSciencePhrase", v)
		StopSpam = 1
		timer.Create( "VoiceSpam", 5, 1, function()
		StopSpam = 0
			--ply:EmitSound(Sound(v),80, 100)
			end)
		end
		
		
		end
	end
	ScienceFrame:SetSkin("DarkRP")
end
concommand.Add("SciencePhrases", ScienceMenu)


/*
===============
Creed's Phrases
===============
*/

local cFrame
local function cMenu()
	StopSpam = 0
	if cFrame then return end

	local cPanel = vgui.Create("Panel")
	cPanel:SetPos(0,0)
	cPanel:SetSize(ScrW(), ScrH())
	function cPanel:OnMousePressed()
		cFrame:Close()
	end

	cFrame = cFrame or vgui.Create("DFrame", cPanel)
	local Height = table.Count(cPhrases) * 21
	cFrame:SetSize(150, Height)
	cFrame:SetPos(ScrW()/2 + ScrW() * 0.1, ScrH()/2 - (Height/2))
	cFrame:SetTitle("Voice")
	cFrame:SetVisible(true)
	cFrame:MakePopup()

	function cFrame:Close()
		cPanel:Remove()
		cFrame:Remove()
		cFrame = nil
	end

	local Sciencei = 0
	local StopSpam = 0
	for k,v in SortedPairs(cPhrases) do
		Sciencei = Sciencei + 1
		local SciencePhraseButton = vgui.Create("DButton", cFrame)
		SciencePhraseButton:SetPos(20, (Sciencei-1)*20 + 30)
		SciencePhraseButton:SetSize(110, 20)
		SciencePhraseButton:SetText(k)

		SciencePhraseButton.DoClick = function()
		if StopSpam == 0 then
		RunConsoleCommand("BMRP_DoCPhrase", v)
		StopSpam = 1
		timer.Create( "VoiceSpam", 5, 1, function()
		StopSpam = 0
			--ply:EmitSound(Sound(v),80, 100)
			end)
		end
		
		
		end
	end
	cFrame:SetSkin("DarkRP")
end
concommand.Add("cPhrases", cMenu)

/*
===============
Vort Phrases
===============
*/

local VortFrame
local function VortMenu()
	StopSpam = 0
	if VortFrame then return end

	local VortPanel = vgui.Create("Panel")
	VortPanel:SetPos(0,0)
	VortPanel:SetSize(ScrW(), ScrH())
	function VortPanel:OnMousePressed()
		VortFrame:Close()
	end

	VortFrame = VortFrame or vgui.Create("DFrame", VortPanel)
	local Height = table.Count(SciencePhrases) * 21
	VortFrame:SetSize(150, Height)
	VortFrame:SetPos(ScrW()/2 + ScrW() * 0.1, ScrH()/2 - (Height/2))
	VortFrame:SetTitle("Voice")
	VortFrame:SetVisible(true)
	VortFrame:MakePopup()

	function VortFrame:Close()
		VortPanel:Remove()
		VortFrame:Remove()
		VortFrame = nil
	end

	local Sciencei = 0
	local StopSpam = 0
	for k,v in SortedPairs(VortPhrases) do
		Sciencei = Sciencei + 1
		local SciencePhraseButton = vgui.Create("DButton", VortFrame)
		SciencePhraseButton:SetPos(20, (Sciencei-1)*20 + 30)
		SciencePhraseButton:SetSize(110, 20)
		SciencePhraseButton:SetText(k)

		SciencePhraseButton.DoClick = function()
		if StopSpam == 0 then
		RunConsoleCommand("BMRP_DoXenianPhrase", v)
		StopSpam = 1
		timer.Create( "VoiceSpam", 5, 1, function()
		StopSpam = 0
			--ply:EmitSound(Sound(v),80, 100)
			end)
		end
		
		
		end
	end
	VortFrame:SetSkin("DarkRP")
end
concommand.Add("VortPhrases", VortMenu)



/*
================
Security Phrases
================
*/

local SecurityFrame
local function SecurityMenu()
	StopSpam = 0
	if SecurityFrame then return end

	local SecurityPanel = vgui.Create("Panel")
	SecurityPanel:SetPos(0,0)
	SecurityPanel:SetSize(ScrW(), ScrH())
	function SecurityPanel:OnMousePressed()
		SecurityFrame:Close()
	end

	SecurityFrame = SecurityFrame or vgui.Create("DFrame", SecurityPanel)
	local Height2 = table.Count(SecurityPhrases) * 21.5
	SecurityFrame:SetSize(150, Height2)
	SecurityFrame:SetPos(ScrW()/2 + ScrW() * 0.1, ScrH()/2 - (Height2/2))
	SecurityFrame:SetTitle("Voice")
	SecurityFrame:SetVisible(true)
	SecurityFrame:MakePopup()

	function SecurityFrame:Close()
		SecurityPanel:Remove()
		SecurityFrame:Remove()
		SecurityFrame = nil
	end

	local Securityi = 0
	local StopSpam = 0
	for k,v in SortedPairs(SecurityPhrases) do
		Securityi = Securityi + 1
		local SecurityPhraseButton = vgui.Create("DButton", SecurityFrame)
		SecurityPhraseButton:SetPos(20, (Securityi-1)*20 + 30)
		SecurityPhraseButton:SetSize(110, 20)
		SecurityPhraseButton:SetText(k)

		SecurityPhraseButton.DoClick = function()
		if StopSpam == 0 then
		RunConsoleCommand("BMRP_DoSecurityPhrase", v)
		StopSpam = 1
		timer.Create( "VoiceSpam", 5, 1, function()
		StopSpam = 0
			--ply:EmitSound(Sound(v),80, 100)
			end)
		end
		
		end
	end
	SecurityFrame:SetSkin("DarkRP")
end
concommand.Add("SecurityPhrases", SecurityMenu)

/*
================
HECU Phrases
================
*/

local HECUFrame
local function HECUMenu()
	StopSpam = 0
	if HECUFrame then return end

	local HECUPanel = vgui.Create("Panel")
	HECUPanel:SetPos(0,0)
	HECUPanel:SetSize(ScrW(), ScrH())
	function HECUPanel:OnMousePressed()
		HECUFrame:Close()
	end

	HECUFrame = HECUFrame or vgui.Create("DFrame", HECUPanel)
	local Height2 = table.Count(HECUPhrases) * 21.5
	HECUFrame:SetSize(150, Height2)
	HECUFrame:SetPos(ScrW()/2 + ScrW() * 0.1, ScrH()/2 - (Height2/2))
	HECUFrame:SetTitle("Voice")
	HECUFrame:SetVisible(true)
	HECUFrame:MakePopup()

	function HECUFrame:Close()
		HECUPanel:Remove()
		HECUFrame:Remove()
		HECUFrame = nil
	end

	local HECUi = 0
	local StopSpam = 0
	for k,v in SortedPairs(HECUPhrases) do
		HECUi = HECUi + 1
		local HECUPhraseButton = vgui.Create("DButton", HECUFrame)
		HECUPhraseButton:SetPos(20, (HECUi-1)*20 + 30)
		HECUPhraseButton:SetSize(110, 20)
		HECUPhraseButton:SetText(k)

		HECUPhraseButton.DoClick = function()
		if StopSpam == 0 then
		RunConsoleCommand("BMRP_DoHECUPhrase", v)
		StopSpam = 1
		timer.Create( "VoiceSpam", 5, 1, function()
		StopSpam = 0

			end)
		end
		
		end
	end
	HECUFrame:SetSkin("DarkRP")
end
concommand.Add("HECUPhrases", HECUMenu)